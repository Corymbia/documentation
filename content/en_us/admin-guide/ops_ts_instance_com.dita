<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<task id="ops_ts_instance_com">
	<title>Problem: can't communicate with instance</title>
	<shortdesc/>
	<taskbody>
		<context>
			<p>Use ping from client (not CLC). Can you ping it?:</p>
		</context>
		<steps-unordered>
			<step>
				<cmd>Yes: check open ports on security groups, retry connection (ssh, hhtp, etc) - did it
					work?</cmd>
				<substeps>
					<substep>
						<cmd>Yes.</cmd>
					</substep>
					<substep>
						<cmd>No: same procedure as if you can't ping it upfront.</cmd>
					</substep>
				</substeps>

			</step>
			<step>
				<cmd>No: Is it Edge networking mode? </cmd>
				<info>
					<ul>
						<li>Yes: run euca_describe_nodes. Is your instance there? <ul>
								<li>Yes: ping instance public IP from NC. Can you ping it? check network between
									client and NC (indicates problem is not euca network)</li>
							<li>No: check eucanetd.log and IP tables rules. Make sure IP address  has visible public IPs
								and that the IP tables have expected ports opened.</li>
							</ul>
						</li>
						<li>No, it is not in Edge networking mode: <ol>
								<li>Run describe instance</li>
								<li>get A2</li>
								<li>euca describe A2 verbose</li>
								<li>get CC IP</li>
								<li>ping private IP (instance) from CC. <p>Are there error messages?</p>
									<ul>
										<li>Yes: check network between client and CC</li>
										<li>No: check eucanetd.log and IP tables rules. Make sure IP address  has visible public IPs
											and that the IP tables have expected ports opened.</li>
									</ul>
								</li>
							</ol>
						</li>
					</ul>
				</info>

			</step>
		</steps-unordered>
	</taskbody>
</task>
